<!doctype html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
<div class="input-group">
    <form action="/search" method="post">
        <input type="text" class="form-control" placeholder="キーワードを入力" name="q">
        <input class="btn btn-outline-success" type="submit" id="button-addon2" value="検索"><i class="fas fa-search"></i></input>
    </form>
</div>
<h1>検索結果</h1>
    <h4>検索件数: {{ books | length }}件</h4>
    <ul>
        {% for book in books %}
            {% if book["image_url"] != "" %}
                <img src={{ book["image_url"] }} alt="本の表紙画像">
            {% else %}
                <img src={{ book["image_url"] }} alt="表紙画像がありません">
            {% endif %}

            {% if book["author"] != "" %}
                <li>タイトル: <a href="/book/detail/{{ book["id"] }}" role="button"><b>「{{ book["title"] }}」</b></a> 著者: {{ book["author"] }}</li>
            {% elif book["publisher"] != "" %}
                <li>タイトル: <a href="/book/detail/{{ book["id"] }}" role="button"><b>「{{ book["title"] }}」</b></a>出版社: {{ book["publisher"] }}</li>
            {% else %}
                <li>タイトル: <a href="/book/detail/{{ book["id"] }}" role="button"><b>「{{ book["title"] }}」</b></a>出版社 and 著者: 情報がありません</li>
            {% endif %}
            <br>
        {% endfor %}
    </ul>
</body>
</html>